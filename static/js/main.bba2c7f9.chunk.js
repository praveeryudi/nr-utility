(this["webpackJsonplog-analyzer"]=this["webpackJsonplog-analyzer"]||[]).push([[0],{417:function(e,a,t){e.exports=t(649)},422:function(e,a,t){},423:function(e,a,t){},649:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),l=t.n(c),o=(t(422),t(423),t(23)),i=t(337),u=t(51),s=t(678),m=t(676),p=t(347),d=t(659),E=t(80),f=t(682),b=t(655),g=t(686),h=t(353),v=t(400),O=t.n(v),y=t(399),j=t.n(y),N=t(212),x=t.n(N),w=t(401),T=t.n(w),M=t(402),A=t.n(M),S=t(24),k=t(118),C=t(19),F=t.n(C),R=t(41),_=t(92),D=t.n(_),P="praveeryudi-org.cfapps.io",L=("https://".concat(P,"/employees/all"),"https://".concat(P,"/jobs/all"),"https://".concat(P,"/managers/all"),"https://".concat(P,"/api/fetch/employee/jobHistory/"),"http://".concat(P,"/maintenance/lookup")),I="http://".concat(P,"/maintenance/transactions/all"),Y="http://".concat(P,"/maintenance/deleteTxn"),B=("http://".concat(P,"/maintenance/flat/"),"http://".concat(P,"/maintenance/addMaintenance")),U="http://".concat(P,"/maintenance/addMaintenanceBatch"),H="http://".concat(P,"/maintenance/pending/"),J=function(){return function(){var e=Object(R.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(L).then(function(){var e=Object(R.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"FLAT_LOOKUP",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching flat look up data",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},G=t(193),W=t.n(G),V=t(107),K=t(675),X=Object(S.b)((function(e){return{flatData:e.maintenanceReducer.lookup}}),null)((function(e){var a=Object(S.c)();Object(n.useEffect)((function(){a(J())}),[a]);var t=e.flatData;return r.a.createElement(K.a,{theme:Object(V.a)({overrides:{MUIDataTableHeadCell:{root:{fontWeight:"bold"}}}})},r.a.createElement(W.a,{title:"Flats List",data:t,columns:[{name:"flatNumber",label:"Flat Number",options:{filter:!0,sort:!0}},{name:"ownerName",label:"Owner Name",options:{filter:!0,sort:!0}},{name:"expectedMaintenance",label:"Fixed Maintenance",options:{filter:!0,sort:!0}}],options:{filter:!0,filterType:"dropdown",responsive:"scrollMaxHeight",rowsPerPage:15,jsonMode:!0,selectableRows:"none",fixedHeaderOptions:{xAxis:!1,yAxis:!0}}}))})),z=t(209),q=t(210),$=t(214),Q=t(213),Z=t(395),ee=t.n(Z),ae=function(e){return r.a.createElement("div",null)},te=function(e){var a=e.data,t=function(){},n={filter:!0,filterType:"checkbox",customToolbarSelect:function(e){return r.a.createElement(ae,{selectedRows:e,onRowsDelete:t})},responsive:"scrollMaxHeight",rowsPerPage:15,jsonMode:!0,selectableRows:!0,fixedHeaderOptions:{xAxis:!1,yAxis:!0}};return r.a.createElement(K.a,{theme:Object(V.a)({overrides:{MUIDataTableHeadCell:{root:{fontWeight:"bold"}}}})},r.a.createElement(W.a,{title:"Transactions",data:a,columns:[{name:"flatNumber",label:"Flat Number",options:{filter:!0,sort:!0}},{name:"txnDate",label:"Paid On",options:{filter:!1,sort:!0}},{name:"month",label:"Month",options:{filter:!0,sort:!0}},{name:"year",label:"Year",options:{filter:!0,sort:!0}},{name:"actualPayment",label:"Amount Paid",options:{filter:!1,sort:!0}},{name:"paymentMode",label:"Payment Mode",options:{filter:!0,sort:!0,setCellProps:function(){return{align:"left"}},customBodyRender:function(e){return e.toUpperCase()}}},{name:"balance",label:"Balance",options:{filter:!1,sort:!0,setCellProps:function(){return{align:"center"}}}}],options:n}))},ne=function(e){Object($.a)(t,e);var a=Object(Q.a)(t);function t(){var e;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).handleRemove=function(a){console.log("I = ",a,JSON.stringify(e.props.transactions[a])),e.props.removeTxn(e.props.transactions,e.props.transactions[a])},e}return Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllTransactions()}},{key:"render",value:function(){return r.a.createElement(ee.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(te,{data:this.props.transactions})))}}]),t}(n.Component),re=Object(S.b)((function(e){return{transactions:e.maintenanceReducer.txnData}}),(function(e){return{fetchAllTransactions:function(){return e(function(){var e=Object(R.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(I).then(function(){var e=Object(R.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"GET_ALL_TRANSACTIONS",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching transactions",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},removeTxn:function(a,t){return e(function(e,a){return function(){var t=Object(R.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.delete(Y,a).then(Object(R.a)(F.a.mark((function t(){var r,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.findIndex((function(e){return e.txnId===a.txnId})),c=[].concat(Object(k.a)(e.slice(0,r-1)),Object(k.a)(e.slice(r+1))),t.next=4,n({type:"UPDATE_TRANSACTIONS",payload:c});case 4:case"end":return t.stop()}}),t)})))).catch((function(e){console.error("Error in deleting transaction",e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a,t))}}}))(ne),ce=t(50),le=t(683),oe=t(268),ie=t(270),ue=t(346),se=t(272),me=Object(i.a)((function(e){return{formControl:{minWidth:242}}}));function pe(e){var a=Object(S.c)(),t=Object(S.d)((function(e){return e.maintenanceReducer.lookup}));Object(n.useEffect)((function(){a(J())}),[a]);var c=me(),l=r.a.useState(""),i=Object(o.a)(l,2),u=i[0],s=i[1];return r.a.createElement(oe.a,{className:c.formControl},r.a.createElement(ie.a,{id:"flat-label"},"Flat Number"),r.a.createElement(se.a,{labelId:"flat-label",id:"flat-label",value:u,onChange:function(a){return function(a){a.preventDefault(),s(a.target.value),e.flatSelected(a.target.value)}(a)}},t.map((function(e){return r.a.createElement(ue.a,{key:e.flatNumber,value:e},e.flatNumber," ",e.ownerName)}))))}var de=t(407),Ee=t(34),fe=t(689);function be(e){var a=r.a.useState(new Date),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement(Ee.a,{utils:de.a},r.a.createElement(fe.a,{required:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"txnDate",value:n,onChange:function(a){c(a),e.txnDate(a)},label:"Transaction Date",KeyboardButtonProps:{"aria-label":"change date"}}))}var ge=t(408),he=t(396);function ve(e){var a=e.inputRef,t=e.onChange,n=Object(ge.a)(e,["inputRef","onChange"]);return r.a.createElement(he.a,Object.assign({},n,{getInputRef:a,onValueChange:function(e){t({target:{value:e.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"\u20b9"}))}var Oe=t(355),ye=Object(S.b)((function(e){return{fixedMaintenance:null===e.maintenanceReducer.flatLookup?0:e.maintenanceReducer.flatLookup.expectedMaintenance}}),null)((function(e){var a=r.a.useState(e.fixedMaintenance),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement(Oe.a,{required:!0,id:"actualPayment",defaultValue:0===n?0:e.fixedMaintenance,value:0===n?e.fixedMaintenance:n,onChange:function(a){c(a.target.value),e.actualPayment(a.target.value)},InputProps:{inputComponent:ve},label:"Actual Payment",fullWidth:!0})})),je=Object(S.b)((function(e){return{fixedMaintenance:null===e.maintenanceReducer.flatLookup?0:e.maintenanceReducer.flatLookup.expectedMaintenance}}),null)((function(e){return r.a.createElement(Oe.a,{disabled:!0,value:e.fixedMaintenance,id:"expectedPayment",label:"Expected Payment"})})),Ne=t(211),xe=t.n(Ne),we=t(397),Te=t.n(we),Me=t(351),Ae=Object(i.a)((function(e){return{button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Se=function(e){var a=Ae();return r.a.createElement(Me.a,{variant:"contained",color:"primary",onClick:function(){e.passAction()},className:a.button},"Save")},ke=t(692),Ce=t(354),Fe=t(352),Re=t(663),_e=Object(i.a)((function(e){return{formControl:{marginTop:e.spacing(10)}}}));function De(e){var a=_e();return r.a.createElement(oe.a,{component:"fieldset",className:a.formControl},r.a.createElement(Re.a,{component:"legend"},"Mode of Payment"),r.a.createElement(Ce.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",onChange:function(a){return function(a){a.preventDefault(),e.paymentMode(a.target.value)}(a)}},r.a.createElement(Fe.a,{value:"online",control:r.a.createElement(ke.a,{color:"primary"}),label:"Online",labelPlacement:"start"}),r.a.createElement(Fe.a,{value:"cash",control:r.a.createElement(ke.a,{color:"secondary"}),label:"Cash",labelPlacement:"start"})))}var Pe=Object(i.a)((function(e){return{formControl:{minWidth:120,marginTop:e.spacing(2)}}}));function Le(e){var a=Pe(),t=r.a.useState((new Date).getMonth()),n=Object(o.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(oe.a,{className:a.formControl},r.a.createElement(ie.a,{id:"demo-simple-select-label"},"Month"),r.a.createElement(se.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,onChange:function(a){a.preventDefault(),l(a.target.value),e.selectedMonth(a.target.value)}},r.a.createElement(ue.a,{value:0},"JAN"),r.a.createElement(ue.a,{value:1},"FEB"),r.a.createElement(ue.a,{value:2},"MAR"),r.a.createElement(ue.a,{value:3},"APR"),r.a.createElement(ue.a,{value:4},"MAY"),r.a.createElement(ue.a,{value:5},"JUN"),r.a.createElement(ue.a,{value:6},"JUL"),r.a.createElement(ue.a,{value:7},"AUG"),r.a.createElement(ue.a,{value:8},"SEP"),r.a.createElement(ue.a,{value:9},"OCT"),r.a.createElement(ue.a,{value:10},"NOV"),r.a.createElement(ue.a,{value:11},"DEC"))))}var Ie=Object(i.a)((function(e){return{formControl:{minWidth:120,marginTop:e.spacing(2)}}}));function Ye(e){var a=Ie(),t=r.a.useState((new Date).getFullYear()),n=Object(o.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(oe.a,{className:a.formControl},r.a.createElement(ie.a,{id:"year-select-label"},"Year"),r.a.createElement(se.a,{labelId:"year-select-label",id:"year-select",value:c,onChange:function(a){a.preventDefault(),l(a.target.value),e.selectedYear(a.target.value)}},r.a.createElement(ue.a,{value:2020},"2020"),r.a.createElement(ue.a,{value:2021},"2021"),r.a.createElement(ue.a,{value:2022},"2022"))))}var Be=t(687),Ue=t(691);function He(e){return r.a.createElement(Ue.a,Object.assign({elevation:6,variant:"filled"},e))}var Je=Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),Ge=function(e){var a=Je(),t=r.a.useState(!0),n=Object(o.a)(t,2),c=n[0],l=n[1],i=function(e,a){"clickaway"!==a&&l(!1)};return r.a.createElement("div",{className:a.root},r.a.createElement(Be.a,{open:c,autoHideDuration:5e3,onClose:i},r.a.createElement(He,{onClose:i,severity:"info"},e.message)))},We=Object(i.a)((function(e){return{appBar:{position:"relative"},layout:Object(ce.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(ce.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"}}})),Ve=Object(S.b)((function(e){return{txnResponseProp:e.maintenanceReducer.txnResponse}}),(function(e){return{saveAction:function(a){return e((t=a,function(){var e=Object(R.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.post(B,t).then(function(){var e=Object(R.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"SAVE_TRANSACTION",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in saving transaction",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));var t}}}))((function(e){var a=We(),t=Object(S.c)(),c=Object(n.useState)({}),l=Object(o.a)(c,2),i=l[0],u=l[1],s=Object(n.useState)(new Date),m=Object(o.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(0),b=Object(o.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)("online"),O=Object(o.a)(v,2),y=O[0],j=O[1],N=Object(n.useState)((new Date).getMonth()),x=Object(o.a)(N,2),w=x[0],T=x[1],M=Object(n.useState)((new Date).getFullYear()),A=Object(o.a)(M,2),k=A[0],C=A[1],_=e.txnResponseProp,D=function(){var a=Object(R.a)(F.a.mark((function a(){var t,n,r;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=i.flatNumber,n=i.expectedMaintenance,r={flatNumber:t,expectedMaintenance:n,actualPayment:g=0===g?n:g,txnDate:p,selectedMonth:w,selectedYear:k,paymentMode:y},console.log(r),a.next=7,e.saveAction(r);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(Te.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Add Maintenance"),r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(pe,{flatSelected:function(e){u(e),t({type:"INDIVIDUAL_FLAT_LOOKUP",payload:e})}})),r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(je,null)),r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(ye,{actualPayment:function(e){h(e),t({type:"SET_TXN_AMOUNT",payload:e})}})),r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(be,{txnDate:function(e){d(e),t({type:"SET_TXN_DATE",payload:e})}})),r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(Le,{selectedMonth:function(e){T(e),t({type:"SET_MONTH",payload:e})}})),r.a.createElement(le.a,{item:!0,xs:12,sm:4},r.a.createElement(Ye,{selectedYear:function(e){C(e),t({type:"SET_YEAR",payload:e})}})),r.a.createElement(le.a,{item:!0,xs:12,sm:6},r.a.createElement(De,{paymentMode:function(e){j(e),t({type:"SET_PAYMENT_MODE",payload:e})}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttons},r.a.createElement(Se,{passAction:function(){return D()}}))))),_&&r.a.createElement(Ge,{message:_.infoMessage}))})),Ke=t(90),Xe=t(685),ze=t(693),qe=t(111),$e=t(344),Qe=Object(i.a)((function(e){return{appBar:{position:"relative"},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},red:{color:e.palette.getContrastText(qe.a[500]),backgroundColor:qe.a[500],width:e.spacing(5),height:e.spacing(5)},layout:Object(ce.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(ce.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)}),gridPaper:{height:325,width:100},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},root:{flexGrow:1,padding:e.spacing(2)}}})),Ze=Object(S.b)((function(e){return{pendingTxnData:e.maintenanceReducer.pendingTxns}}),null)((function(e){var a=Qe(),t=Object(S.c)(),n=r.a.useState((new Date).getMonth()),c=Object(o.a)(n,2),l=c[0],i=c[1],u=r.a.useState((new Date).getFullYear()),s=Object(o.a)(u,2),m=s[0],p=s[1],g=Object.keys(e.pendingTxnData),v=Object.values(e.pendingTxnData);return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(Ke.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Pending Maintenance"),r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:12,sm:6},r.a.createElement(Le,{selectedMonth:function(e){i(e)}})),r.a.createElement(le.a,{item:!0,xs:12,sm:6},r.a.createElement(Ye,{selectedYear:function(e){p(e)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttons},r.a.createElement(Me.a,{variant:"contained",color:"primary",onClick:function(e){var a,n;e.preventDefault(),console.log(l,m),t((a=l+1,n=m,function(){var e=Object(R.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get(H+a+"/"+n).then(function(){var e=Object(R.a)(F.a.mark((function e(a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,e.next=3,t({type:"PENDING_TRANSACTIONS",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching pending transactions",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()))},className:a.button},"Fetch")))))),r.a.createElement(f.a,null),r.a.createElement(le.a,{container:!0,className:a.root,spacing:2},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(le.a,{container:!0,justify:"center",spacing:10},r.a.createElement(le.a,{key:g[0],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"Ground Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[0]]&&v[g[0]].map((function(e){return r.a.createElement($e.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(Xe.a,null,r.a.createElement(ze.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(le.a,{key:g[1],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"1st Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[1]]&&v[g[1]].map((function(e){return r.a.createElement($e.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(Xe.a,null,r.a.createElement(ze.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(le.a,{key:g[2],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"2nd Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[2]]&&v[g[2]].map((function(e){return r.a.createElement($e.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(Xe.a,null,r.a.createElement(ze.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(le.a,{key:g[3],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"3rd Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[3]]&&v[g[3]].map((function(e){return r.a.createElement($e.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(Xe.a,null,r.a.createElement(ze.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(le.a,{key:g[4],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"4th Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[4]]&&v[g[4]].map((function(e){return r.a.createElement($e.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(Xe.a,null,r.a.createElement(ze.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))})))))))))})),ea=t(9),aa=t(338),ta=t(340),na=t(341),ra=t(688),ca=t(343),la=t(342),oa=t(265),ia=t(271),ua=t.n(ia),sa=t(398),ma=t.n(sa),pa=t(274),da=t.n(pa),Ea=Object(i.a)((function(e){return{layout:Object(ce.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(ce.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)})}})),fa=function(e){Object($.a)(t,e);var a=Object(Q.a)(t);function t(){var e;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={rows:[]},e.handleAddRow=function(){var a={flatNumber:"",txnDate:new Date,selectedMonth:(new Date).toLocaleString("default",{month:"long"}),selectedYear:(new Date).getFullYear(),actualPayment:"",paymentMode:""};e.setState({rows:[].concat(Object(k.a)(e.state.rows),[a])})},e.handleRemoveRow=function(a){console.log(a);var t=Array.from(e.state.rows);a>-1&&t.splice(a,1),e.setState({rows:t})},e.handleChange=function(a){return function(t){var n=t.target,r=n.name,c=n.value,l=Object(k.a)(e.state.rows);l[a]=Object(ea.a)(Object(ea.a)({},l[a]),{},Object(ce.a)({},r,c)),e.setState({rows:l})}},e.handleSaveAction=function(){console.log(e.state.rows),e.props.saveBatch(e.state.rows)},e}return Object(q.a)(t,[{key:"render",value:function(){var e=this,a=Ea;return r.a.createElement("main",{className:a.layout},r.a.createElement(Ke.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Add Maintenance"),r.a.createElement(ra.a,{component:Ke.a},r.a.createElement(da.a,{title:"Add Entry",placement:"top"},r.a.createElement(oa.a,{"aria-label":"add",onClick:this.handleAddRow},r.a.createElement(x.a,null))),r.a.createElement(da.a,{title:"Save",placement:"top"},r.a.createElement("span",null,r.a.createElement(oa.a,{"aria-label":"save",disabled:0===this.state.rows.length,onClick:this.handleSaveAction},r.a.createElement(ma.a,null)))),r.a.createElement(aa.a,{size:"small","aria-label":"a dense table"},r.a.createElement(ca.a,null,r.a.createElement(la.a,null,r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"}},"#\xa0"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Flat Number"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Month"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Year"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Actual Payment"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Payment Mode"),r.a.createElement(na.a,{style:{backgroundColor:"#000000",color:"#FFFFFF"},align:"right"},"Delete"))),r.a.createElement(ta.a,null,this.state.rows.map((function(a,t){return r.a.createElement(la.a,{key:t},r.a.createElement(na.a,{component:"th",scope:"row"},t),r.a.createElement(na.a,{align:"right"},r.a.createElement("input",{type:"text",name:"flatNumber",value:a.flatNumber,onChange:e.handleChange(t),className:"form-control"})),r.a.createElement(na.a,{align:"right"},r.a.createElement("input",{type:"text",name:"month",value:a.selectedMonth,onChange:e.handleChange(t),className:"form-control"})),r.a.createElement(na.a,{align:"right"},r.a.createElement("input",{type:"text",name:"year",value:a.selectedYear,onChange:e.handleChange(t),className:"form-control"})),r.a.createElement(na.a,{align:"right"},r.a.createElement("input",{type:"text",name:"actualPayment",value:a.actualPayment,onChange:e.handleChange(t),className:"form-control"})),r.a.createElement(na.a,{align:"right"},r.a.createElement("select",{name:"paymentMode",id:"mode",className:"form-control",onChange:e.handleChange(t),value:a.paymentMode},r.a.createElement("option",{value:"online"},"Online"),r.a.createElement("option",{value:"cash"},"Cash"))),r.a.createElement(na.a,{align:"right"},r.a.createElement(oa.a,{"aria-label":"delete",onClick:function(){return e.handleRemoveRow(t)}},r.a.createElement(ua.a,null))))})))))))}}]),t}(n.Component),ba=Object(S.b)((function(e){return{txnResponseProp:e.maintenanceReducer.txnResponse}}),(function(e){return{saveBatch:function(a){return e(function(e){return function(){var a=Object(R.a)(F.a.mark((function a(t){return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D.a.post(U,e).then(function(){var e=Object(R.a)(F.a.mark((function e(a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,e.next=3,t({type:"SAVE_TRANSACTION",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in saving transaction batch",e)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))(fa),ga=Object(i.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),ha=function(){var e=ga(),a=r.a.useState(0),t=Object(o.a)(a,2),n=t[0],c=t[1],l=function(e){c(e)};return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,null),r.a.createElement(m.a,{position:"fixed",className:e.appBar},r.a.createElement(p.a,null,r.a.createElement(E.a,{variant:"h6",noWrap:!0},"Sriven Maintenance Ledger"))),r.a.createElement(u.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(f.a,{component:"div"}),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"flatLookup",onClick:function(){return l(0)}},r.a.createElement(g.a,null,r.a.createElement(j.a,null)),r.a.createElement(h.a,{primary:"Flat Lookup"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"getAllTxns",onClick:function(){return l(1)}},r.a.createElement(g.a,null,r.a.createElement(O.a,null)),r.a.createElement(h.a,{primary:"All Transactions"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"addMaintenance",onClick:function(){return l(2)}},r.a.createElement(g.a,null,r.a.createElement(x.a,null)),r.a.createElement(h.a,{primary:"Add Maintenance"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"addMultipleMaintenance",onClick:function(){return l(3)}},r.a.createElement(g.a,null,r.a.createElement(T.a,null)),r.a.createElement(h.a,{primary:"Batch Add"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"pendingTxns",onClick:function(){return l(4)}},r.a.createElement(g.a,null,r.a.createElement(A.a,null)),r.a.createElement(h.a,{primary:"Pending Maintenance"}))),r.a.createElement(f.a,null)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),0===n&&r.a.createElement(X,null),1===n&&r.a.createElement(re,null),2===n&&r.a.createElement(Ve,null),3===n&&r.a.createElement(ba,null),4===n&&r.a.createElement(Ze,null)))};var va=function(){return r.a.createElement(ha,null)},Oa=t(69),ya=t(690),ja={employees:[],managers:[],currentEmployee:{},jobHistory:[]},Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIST_EMPLOYEES":return Object(ea.a)(Object(ea.a)({},e),{},{employees:a.payload});case"LIST_MANAGERS":return Object(ea.a)(Object(ea.a)({},e),{},{managers:a.payload});case"SET_CURRENT_EMPLOYEE":return Object(ea.a)(Object(ea.a)({},e),{},{currentEmployee:a.payload});case"DELETE_EMPLOYEE":return Object(ea.a)(Object(ea.a)({},e),{},{employees:a.payload});case"JOB_HISTORY_SUCCESS":return Object(ea.a)(Object(ea.a)({},e),{},{jobHistory:a.payload});default:return e}},xa={jobs:[],selectedJobTitle:""},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIST_JOBS":return Object(ea.a)(Object(ea.a)({},e),{},{jobs:a.payload});case"SELECTED_JOB":return Object(ea.a)(Object(ea.a)({},e),{},{selectedJobTitle:a.payload});default:return e}},Ta={firstName:"",lastName:"",email:"",phoneNumber:"",hireDate:"",jobId:"",salary:0,commissionPct:0,managerId:0,departmentId:0},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_EMPLOYEE_FIRST_NAME":return Object(ea.a)(Object(ea.a)({},e),{},{firstName:a.payload});case"SET_EMPLOYEE_LAST_NAME":return Object(ea.a)(Object(ea.a)({},e),{},{lastName:a.payload});case"SET_EMPLOYEE_EMAIL":return Object(ea.a)(Object(ea.a)({},e),{},{email:a.payload});case"SET_EMPLOYEE_PHONE":return Object(ea.a)(Object(ea.a)({},e),{},{phoneNumber:a.payload});case"SET_EMPLOYEE_HIRE_DATE":return Object(ea.a)(Object(ea.a)({},e),{},{hireDate:a.payload});case"SET_EMPLOYEE_SALARY":return Object(ea.a)(Object(ea.a)({},e),{},{salary:a.payload});case"SET_EMPLOYEE_JOB_ID":return Object(ea.a)(Object(ea.a)({},e),{},{jobId:a.payload});case"SET_EMPLOYEE_COMMISSION":return Object(ea.a)(Object(ea.a)({},e),{},{commissionPct:a.payload});case"SET_EMPLOYEE_MANAGER":return Object(ea.a)(Object(ea.a)({},e),{},{managerId:a.payload});case"SET_EMPLOYEE_DEPT":return Object(ea.a)(Object(ea.a)({},e),{},{departmentId:a.payload});default:return e}},Aa={lookup:[],flatLookup:null,txnData:[],txnDate:null,txnAmount:0,paymentMode:"online",selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),txnResponse:null,pendingTxns:new Map},Sa={lookup:[],flatLookup:null,txnData:[],txnDate:null,txnAmount:0,paymentMode:"online",selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),txnResponse:null,pendingTxns:new Map},ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FLAT_LOOKUP":return Object(ea.a)(Object(ea.a)({},e),{},{lookup:a.payload});case"INDIVIDUAL_FLAT_LOOKUP":return Object(ea.a)(Object(ea.a)({},e),{},{flatLookup:a.payload});case"SET_TXN_DATE":return Object(ea.a)(Object(ea.a)({},e),{},{txnDate:a.payload});case"SET_TXN_AMOUNT":return Object(ea.a)(Object(ea.a)({},e),{},{txnAmount:a.payload});case"SET_PAYMENT_MODE":return Object(ea.a)(Object(ea.a)({},e),{},{paymentMode:a.payload});case"SET_MONTH":return Object(ea.a)(Object(ea.a)({},e),{},{selectedMonth:a.payload});case"SET_YEAR":return Object(ea.a)(Object(ea.a)({},e),{},{selectedYear:a.payload});case"SAVE_TRANSACTION":return Object(ea.a)(Object(ea.a)({},e),{},{txnResponse:a.payload});case"GET_ALL_TRANSACTIONS":case"UPDATE_TRANSACTIONS":return Object(ea.a)(Object(ea.a)({},e),{},{txnData:a.payload});case"PENDING_TRANSACTIONS":return Object(ea.a)(Object(ea.a)({},e),{},{pendingTxns:a.payload});case"RESET_TRANSACTION":return{state:Sa};default:return e}},Ca=Object(Oa.combineReducers)({form:ya.a,empReducer:Na,jobIdReducer:wa,newEmployeeReducer:Ma,maintenanceReducer:ka}),Fa=t(405),Ra=t(406),_a=Object(Oa.createStore)(Ca,Object(Ra.composeWithDevTools)(Object(Oa.applyMiddleware)(Fa.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(S.a,{store:_a},r.a.createElement(va,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[417,1,2]]]);
//# sourceMappingURL=main.bba2c7f9.chunk.js.map