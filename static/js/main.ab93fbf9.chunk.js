(this["webpackJsonplog-analyzer"]=this["webpackJsonplog-analyzer"]||[]).push([[0],{448:function(e,a,t){e.exports=t(707)},453:function(e,a,t){},454:function(e,a,t){},707:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),l=t.n(c),o=(t(453),t(454),t(18)),i=t(348),u=t(55),s=t(733),m=t(729),p=t(358),d=t(716),E=t(87),f=t(737),b=t(714),g=t(741),h=t(364),v=t(427),O=t.n(v),y=t(426),j=t.n(y),T=t(428),N=t.n(T),x=t(429),w=t.n(x),M=t(430),k=t.n(M),S=t(431),A=t.n(S),D=t(24),_=t(15),C=t.n(_),R=t(30),L=t(88),P=t.n(L),I="localhost:1010",F=("https://".concat(I,"/employees/all"),"https://".concat(I,"/jobs/all"),"https://".concat(I,"/managers/all"),"https://".concat(I,"/api/fetch/employee/jobHistory/"),"".concat("http","://").concat(I,"/maintenance/lookup")),Y="".concat("http","://").concat(I,"/maintenance/transactions/all"),B="".concat("http","://").concat(I,"/maintenance/deleteTxn"),U=("".concat("http","://").concat(I,"/maintenance/flat/"),"".concat("http","://").concat(I,"/maintenance/addMaintenance")),H=("".concat("http","://").concat(I,"/maintenance/addMaintenanceBatch"),"".concat("http","://").concat(I,"/maintenance/pending/")),G="".concat("http","://").concat(I,"/maintenance/floorTotal/"),W="".concat("http","://").concat(I,"/bi/periodData/"),J=function(){return function(){var e=Object(R.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(F).then(function(){var e=Object(R.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"FLAT_LOOKUP",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching flat look up data",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},V=t(202),K=t.n(V),X=t(115),z=t(728),q=Object(D.b)((function(e){return{flatData:e.maintenanceReducer.lookup}}),null)((function(e){var a=Object(D.c)();Object(n.useEffect)((function(){a(J())}),[a]);var t=e.flatData;return r.a.createElement(z.a,{theme:Object(X.a)({overrides:{MUIDataTableHeadCell:{root:{fontWeight:"bold"}}}})},r.a.createElement(K.a,{title:"Flats List",data:t,columns:[{name:"flatNumber",label:"Flat Number",options:{filter:!0,sort:!0}},{name:"ownerName",label:"Owner Name",options:{filter:!0,sort:!0}},{name:"expectedMaintenance",label:"Fixed Maintenance",options:{filter:!0,sort:!0}}],options:{filter:!0,filterType:"dropdown",responsive:"scrollMaxHeight",rowsPerPage:15,jsonMode:!0,selectableRows:"none",fixedHeaderOptions:{xAxis:!1,yAxis:!0}}}))})),$=t(416),Q=t(417),Z=t(439),ee=t(437),ae=t(418),te=t.n(ae),ne=function(e){var a=e.data,t=e.txnIdsToDelete,n={filter:!0,filterType:"checkbox",onRowsDelete:function(e){return function(e){for(var n=[],r=0;r<e.data.length;r++){var c=e.data[r],l=a[c.dataIndex].txnId;n.push(l)}t(n)}(e)},responsive:"scrollMaxHeight",rowsPerPage:15,jsonMode:!0,selectableRows:!0,fixedHeaderOptions:{xAxis:!1,yAxis:!0}};return r.a.createElement(z.a,{theme:Object(X.a)({overrides:{MUIDataTableHeadCell:{root:{fontWeight:"bold"}}}})},r.a.createElement(K.a,{title:"Transactions",data:a,columns:[{name:"flatNumber",label:"Flat Number",options:{filter:!0,sort:!0}},{name:"txnDate",label:"Paid On",options:{filter:!1,sort:!0}},{name:"month",label:"Month",options:{filter:!0,sort:!0}},{name:"year",label:"Year",options:{filter:!0,sort:!0}},{name:"actualPayment",label:"Amount Paid",options:{filter:!1,sort:!0}},{name:"paymentMode",label:"Payment Mode",options:{filter:!0,sort:!0,setCellProps:function(){return{align:"left"}},customBodyRender:function(e){return e.toUpperCase()}}},{name:"balance",label:"Balance",options:{filter:!1,sort:!0,setCellProps:function(){return{align:"center"}}}}],options:n}))},re=t(420),ce=t.n(re),le=t(419),oe=t.n(le);function ie(e){return r.a.createElement(oe.a,Object.assign({elevation:6,variant:"filled"},e))}var ue=function(e){var a=e.message;return r.a.createElement(ce.a,{open:!0,autoHideDuration:5e3},r.a.createElement(ie,{severity:"info"},a))},se=function(e){Object(Z.a)(t,e);var a=Object(ee.a)(t);function t(){var e;Object($.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).handleRemove=function(a){e.props.removeTxn(a)},e}return Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllTransactions()}},{key:"render",value:function(){var e=this;return r.a.createElement(te.a,null,r.a.createElement("div",{className:"App"},this.props.txnResponse&&r.a.createElement(ue,{message:this.props.txnResponse.infoMessage}),r.a.createElement(ne,{data:this.props.transactions,txnIdsToDelete:function(a){return e.handleRemove(a)}})))}}]),t}(n.Component),me=Object(D.b)((function(e){return{transactions:e.maintenanceReducer.txnData,txnResponse:e.maintenanceReducer.txnResponse}}),(function(e){return{fetchAllTransactions:function(){return e(function(){var e=Object(R.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(Y).then(function(){var e=Object(R.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"GET_ALL_TRANSACTIONS",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching transactions",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},removeTxn:function(a){return e(function(e){return function(){var a=Object(R.a)(C.a.mark((function a(t){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P.a.delete(B,{data:e}).then(function(){var e=Object(R.a)(C.a.mark((function e(a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,e.next=3,t({type:"DELETE_TRANSACTIONS",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in deleting transaction",e)}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))(se),pe=t(47),de=t(738),Ee=t(277),fe=t(280),be=t(357),ge=t(283),he=Object(i.a)((function(e){return{formControl:{minWidth:242}}}));function ve(e){var a=Object(D.c)(),t=Object(D.d)((function(e){return e.maintenanceReducer.lookup}));Object(n.useEffect)((function(){a(J())}),[a]);var c=he(),l=r.a.useState(""),i=Object(o.a)(l,2),u=i[0],s=i[1];return r.a.createElement(Ee.a,{className:c.formControl},r.a.createElement(fe.a,{id:"flat-label"},"Flat Number"),r.a.createElement(ge.a,{labelId:"flat-label",id:"flat-label",value:u,onChange:function(a){return function(a){a.preventDefault(),s(a.target.value),e.flatSelected(a.target.value)}(a)}},t.map((function(e){return r.a.createElement(be.a,{key:e.flatNumber,value:e},e.flatNumber," ",e.ownerName)}))))}var Oe=t(436),ye=t(38),je=t(743);function Te(e){var a=r.a.useState(new Date),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement(ye.a,{utils:Oe.a},r.a.createElement(je.a,{required:!0,disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"txnDate",value:n,onChange:function(a){c(a),e.txnDate(a)},label:"Transaction Date",KeyboardButtonProps:{"aria-label":"change date"}}))}var Ne=t(438),xe=t(421);function we(e){var a=e.inputRef,t=e.onChange,n=Object(Ne.a)(e,["inputRef","onChange"]);return r.a.createElement(xe.a,Object.assign({},n,{getInputRef:a,onValueChange:function(e){t({target:{value:e.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"\u20b9"}))}var Me=t(366),ke=Object(D.b)((function(e){return{fixedMaintenance:null===e.maintenanceReducer.flatLookup?0:e.maintenanceReducer.flatLookup.expectedMaintenance}}),null)((function(e){var a=r.a.useState(e.fixedMaintenance),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement(Me.a,{required:!0,id:"actualPayment",defaultValue:0===n?0:e.fixedMaintenance,value:0===n?e.fixedMaintenance:n,onChange:function(a){c(a.target.value),e.actualPayment(a.target.value)},InputProps:{inputComponent:we},label:"Actual Payment",fullWidth:!0})})),Se=Object(D.b)((function(e){return{fixedMaintenance:null===e.maintenanceReducer.flatLookup?0:e.maintenanceReducer.flatLookup.expectedMaintenance}}),null)((function(e){return r.a.createElement(Me.a,{disabled:!0,value:e.fixedMaintenance,id:"expectedPayment",label:"Expected Payment"})})),Ae=t(76),De=t.n(Ae),_e=t(154),Ce=t.n(_e),Re=t(362),Le=Object(i.a)((function(e){return{button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),Pe=function(e){var a=Le();return r.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:function(){e.passAction()},className:a.button},"Save")},Ie=t(746),Fe=t(365),Ye=t(363),Be=t(279),Ue=Object(i.a)((function(e){return{formControl:{marginTop:e.spacing(10)}}}));function He(e){var a=Ue();return r.a.createElement(Ee.a,{component:"fieldset",className:a.formControl},r.a.createElement(Be.a,{component:"legend"},"Mode of Payment"),r.a.createElement(Fe.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"top",onChange:function(a){return function(a){a.preventDefault(),e.paymentMode(a.target.value)}(a)}},r.a.createElement(Ye.a,{value:"online",control:r.a.createElement(Ie.a,{color:"primary"}),label:"Online",labelPlacement:"start"}),r.a.createElement(Ye.a,{value:"cash",control:r.a.createElement(Ie.a,{color:"secondary"}),label:"Cash",labelPlacement:"start"})))}var Ge=Object(i.a)((function(e){return{formControl:{minWidth:120,marginTop:e.spacing(2)}}}));function We(e){var a=Ge(),t=r.a.useState((new Date).getMonth()),n=Object(o.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(Ee.a,{className:a.formControl},r.a.createElement(fe.a,{id:"demo-simple-select-label"},"Month"),r.a.createElement(ge.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,onChange:function(a){a.preventDefault(),l(a.target.value),e.selectedMonth(a.target.value)}},r.a.createElement(be.a,{value:0},"JAN"),r.a.createElement(be.a,{value:1},"FEB"),r.a.createElement(be.a,{value:2},"MAR"),r.a.createElement(be.a,{value:3},"APR"),r.a.createElement(be.a,{value:4},"MAY"),r.a.createElement(be.a,{value:5},"JUN"),r.a.createElement(be.a,{value:6},"JUL"),r.a.createElement(be.a,{value:7},"AUG"),r.a.createElement(be.a,{value:8},"SEP"),r.a.createElement(be.a,{value:9},"OCT"),r.a.createElement(be.a,{value:10},"NOV"),r.a.createElement(be.a,{value:11},"DEC"))))}var Je=Object(i.a)((function(e){return{formControl:{minWidth:120,marginTop:e.spacing(2)}}}));function Ve(e){var a=Je(),t=r.a.useState((new Date).getFullYear()),n=Object(o.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(Ee.a,{className:a.formControl},r.a.createElement(fe.a,{id:"year-select-label"},"Year"),r.a.createElement(ge.a,{labelId:"year-select-label",id:"year-select",value:c,onChange:function(a){a.preventDefault(),l(a.target.value),e.selectedYear(a.target.value)}},r.a.createElement(be.a,{value:2020},"2020"),r.a.createElement(be.a,{value:2021},"2021"),r.a.createElement(be.a,{value:2022},"2022"))))}var Ke=t(742),Xe=t(745);function ze(e){return r.a.createElement(Xe.a,Object.assign({elevation:6,variant:"filled"},e))}var qe=Object(i.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),$e=function(e){var a=qe(),t=r.a.useState(!0),n=Object(o.a)(t,2),c=n[0],l=n[1],i=function(e,a){"clickaway"!==a&&l(!1)};return r.a.createElement("div",{className:a.root},r.a.createElement(Ke.a,{open:c,autoHideDuration:5e3,onClose:i},r.a.createElement(ze,{onClose:i,severity:"info"},e.message)))},Qe=Object(i.a)((function(e){return{appBar:{position:"relative"},layout:Object(pe.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:800,marginLeft:"auto",marginRight:"auto"}),paper:Object(pe.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"}}})),Ze=Object(D.b)((function(e){return{txnResponseProp:e.maintenanceReducer.txnResponse}}),(function(e){return{saveAction:function(a){return e((t=a,function(){var e=Object(R.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.post(U,t).then(function(){var e=Object(R.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,a({type:"SAVE_TRANSACTION",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in saving transaction",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()));var t}}}))((function(e){var a=Qe(),t=Object(D.c)(),c=Object(n.useState)({}),l=Object(o.a)(c,2),i=l[0],u=l[1],s=Object(n.useState)(new Date),m=Object(o.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(0),b=Object(o.a)(f,2),g=b[0],h=b[1],v=Object(n.useState)("online"),O=Object(o.a)(v,2),y=O[0],j=O[1],T=Object(n.useState)((new Date).getMonth()),N=Object(o.a)(T,2),x=N[0],w=N[1],M=Object(n.useState)((new Date).getFullYear()),k=Object(o.a)(M,2),S=k[0],A=k[1],_=e.txnResponseProp,L=function(){var a=Object(R.a)(C.a.mark((function a(){var t,n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=i.flatNumber,n=i.expectedMaintenance,r={flatNumber:t,expectedMaintenance:n,actualPayment:g=0===g?n:g,txnDate:p,selectedMonth:x,selectedYear:S,paymentMode:y},console.log(r),a.next=7,e.saveAction(r);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(Ce.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Add Maintenance"),r.a.createElement(de.a,{container:!0,spacing:2},r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(ve,{flatSelected:function(e){u(e),t({type:"INDIVIDUAL_FLAT_LOOKUP",payload:e})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(Se,null)),r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(ke,{actualPayment:function(e){h(e),t({type:"SET_TXN_AMOUNT",payload:e})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(Te,{txnDate:function(e){d(e),t({type:"SET_TXN_DATE",payload:e})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(We,{selectedMonth:function(e){w(e),t({type:"SET_MONTH",payload:e})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:4},r.a.createElement(Ve,{selectedYear:function(e){A(e),t({type:"SET_YEAR",payload:e})}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(He,{paymentMode:function(e){j(e),t({type:"SET_PAYMENT_MODE",payload:e})}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttons},r.a.createElement(Pe,{passAction:function(){return L()}}))))),_&&r.a.createElement($e,{message:_.infoMessage}))})),ea=t(86),aa=t(740),ta=t(747),na=t(119),ra=t(355),ca=Object(i.a)((function(e){return{appBar:{position:"relative"},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},red:{color:e.palette.getContrastText(na.a[500]),backgroundColor:na.a[500],width:e.spacing(5),height:e.spacing(5)},layout:Object(pe.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(pe.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)}),gridPaper:{height:325,width:100},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},root:{flexGrow:1,padding:e.spacing(2)}}})),la=Object(D.b)((function(e){return{pendingTxnData:e.maintenanceReducer.pendingTxns}}),null)((function(e){var a=ca(),t=Object(D.c)(),n=r.a.useState((new Date).getMonth()),c=Object(o.a)(n,2),l=c[0],i=c[1],u=r.a.useState((new Date).getFullYear()),s=Object(o.a)(u,2),m=s[0],p=s[1],g=Object.keys(e.pendingTxnData),v=Object.values(e.pendingTxnData);return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(ea.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Pending Maintenance"),r.a.createElement(de.a,{container:!0,spacing:2},r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(We,{selectedMonth:function(e){i(e)}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ve,{selectedYear:function(e){p(e)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttons},r.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:function(e){var a,n;e.preventDefault(),console.log(l,m),t((a=l+1,n=m,function(){var e=Object(R.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(H+a+"/"+n).then(function(){var e=Object(R.a)(C.a.mark((function e(a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,e.next=3,t({type:"PENDING_TRANSACTIONS",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching pending transactions",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()))},className:a.button},"Fetch")))))),r.a.createElement(f.a,null),r.a.createElement(de.a,{container:!0,className:a.root,spacing:2},r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(de.a,{container:!0,justify:"center",spacing:10},r.a.createElement(de.a,{key:g[0],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"Ground Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[0]]&&v[g[0]].map((function(e){return r.a.createElement(ra.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(aa.a,null,r.a.createElement(ta.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(de.a,{key:g[1],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"1st Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[1]]&&v[g[1]].map((function(e){return r.a.createElement(ra.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(aa.a,null,r.a.createElement(ta.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(de.a,{key:g[2],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"2nd Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[2]]&&v[g[2]].map((function(e){return r.a.createElement(ra.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(aa.a,null,r.a.createElement(ta.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(de.a,{key:g[3],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"3rd Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[3]]&&v[g[3]].map((function(e){return r.a.createElement(ra.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(aa.a,null,r.a.createElement(ta.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))}))))),r.a.createElement(de.a,{key:g[4],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"4th Floor"),r.a.createElement("div",{className:a.demo},r.a.createElement(d.a,{dense:!0},v[g[4]]&&v[g[4]].map((function(e){return r.a.createElement(ra.a,{title:e.ownerName,placement:"left-start"},r.a.createElement(b.a,null,r.a.createElement(aa.a,null,r.a.createElement(ta.a,{className:a.red,variant:"rounded"},e.ownerName.charAt(0))),r.a.createElement(h.a,{primary:e.flatNumber})))})))))))))})),oa=Object(i.a)((function(e){return{demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},layout:Object(pe.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(pe.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(6),padding:e.spacing(3)}),buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},root:{flexGrow:1,padding:e.spacing(2)}}})),ia=Object(D.b)((function(e){return{floorTotalProp:e.maintenanceReducer.floorTotal}}),null)((function(e){var a=oa(),t=Object(D.c)(),n=r.a.useState((new Date).getMonth()),c=Object(o.a)(n,2),l=c[0],i=c[1],u=r.a.useState((new Date).getFullYear()),s=Object(o.a)(u,2),m=s[0],p=s[1],d=Object.keys(e.floorTotalProp),b=Object.values(e.floorTotalProp);return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(ea.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center"},"Floor Wise Total"),r.a.createElement(de.a,{container:!0,spacing:2},r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(We,{selectedMonth:function(e){i(e)}})),r.a.createElement(de.a,{item:!0,xs:12,sm:6},r.a.createElement(Ve,{selectedYear:function(e){p(e)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.buttons},r.a.createElement(Re.a,{variant:"contained",color:"primary",onClick:function(e){var a,n;e.preventDefault(),console.log(l,m),t((a=l+1,n=m,function(){var e=Object(R.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(G+a+"/"+n).then(function(){var e=Object(R.a)(C.a.mark((function e(a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.data,e.next=3,t({type:"FLOOR_TOTAL",payload:n});case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error in fetching floor totals",e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()))},className:a.button},"Fetch")))))),r.a.createElement(f.a,null),r.a.createElement(de.a,{container:!0,className:a.root,spacing:2},r.a.createElement(de.a,{item:!0,xs:12},r.a.createElement(de.a,{container:!0,justify:"center",spacing:10},r.a.createElement(de.a,{key:d[0],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"Ground Floor"),r.a.createElement(E.a,{variant:"h5",component:"h2"},b[d[0]])),r.a.createElement(de.a,{key:d[1],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"1st Floor"),r.a.createElement(E.a,{variant:"h5",component:"h2"},b[d[1]])),r.a.createElement(de.a,{key:d[2],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"2nd Floor"),r.a.createElement(E.a,{variant:"h5",component:"h2"},b[d[2]])),r.a.createElement(de.a,{key:d[3],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"3rd Floor"),r.a.createElement(E.a,{variant:"h5",component:"h2"},b[d[3]])),r.a.createElement(de.a,{key:d[4],item:!0},r.a.createElement(E.a,{variant:"h6",className:a.title},"4th Floor"),r.a.createElement(E.a,{variant:"h5",component:"h2"},b[d[4]]))))))})),ua=t(286),sa=t(424),ma=t.n(sa),pa=t(425),da=t.n(pa),Ea=t(730),fa=t(731),ba=t(422),ga=function(e){var a={labels:e.chartLabels,datasets:[{label:"Maintenance Collection",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:e.chartData}]};return r.a.createElement("div",null,r.a.createElement(ba.a,{data:a,options:{legend:{display:!0,position:"top",labels:{boxWidth:80,fontColor:"black"}}}}))},ha=Object(i.a)((function(e){return{appBar:{position:"relative"},layout:Object(pe.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(pe.a)({marginTop:e.spacing(1),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(2),marginBottom:e.spacing(2),padding:e.spacing(3)}),cardLayout:{marginTop:e.spacing(2),marginBottom:e.spacing(2),display:"flex",justifyContent:"space-evenly",backgroundColor:e.palette.background.paper},title:{fontSize:14},pos:{marginBottom:12},textField:{width:"15ch"}}})),va=function(e){var a=ha(),t=r.a.useState("3"),c=Object(o.a)(t,2),l=c[0],i=c[1],u=r.a.useState([]),s=Object(o.a)(u,2),m=s[0],p=s[1],d=r.a.useState([]),b=Object(o.a)(d,2),g=b[0],h=b[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W+"3").then((function(e){return e.json()})).then((function(e){h((function(){return Object.values(e)})),p((function(){return Object.keys(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var e=Object(R.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),i((function(){return a.target.value})),e.next=4,fetch(W+a.target.value).then((function(e){return e.json()})).then((function(e){h((function(){return Object.values(e)})),p((function(){return Object.keys(e)}))}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(Ce.a,{className:a.paper},r.a.createElement(E.a,{component:"h1",variant:"h5",align:"center",color:"secondary"},"Past Maintenance"),r.a.createElement(de.a,{container:!0,spacing:2},r.a.createElement(de.a,{item:!0,xs:12,sm:12},r.a.createElement(ma.a,{id:"period-select-label"},"Select Duration"),r.a.createElement(da.a,{labelId:"period-select-label",id:"period-select",value:l,onChange:function(e){return v(e)}},r.a.createElement(be.a,{value:3},"3 Months"),r.a.createElement(be.a,{value:6},"6 Months"),r.a.createElement(be.a,{value:9},"9 Months"),r.a.createElement(be.a,{value:12},"12 Months"))))))),r.a.createElement("div",{className:a.cardLayout},m.map((function(e,t){return r.a.createElement(Ea.a,null,r.a.createElement(fa.a,null,r.a.createElement(Me.a,{className:a.textField,id:"outlined-disabled",label:m[t],value:g[t],variant:"outlined",InputProps:{inputComponent:we,readOnly:!0}})))}))),r.a.createElement(f.a,null),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null),r.a.createElement("main",{className:a.layout},r.a.createElement(Ce.a,{className:a.paper},r.a.createElement(ga,{chartLabels:Object(ua.a)(m.slice(1)),chartData:Object(ua.a)(g.slice(1))}))))))},Oa=Object(i.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),ya=function(){var e=Oa(),a=r.a.useState(0),t=Object(o.a)(a,2),n=t[0],c=t[1],l=function(e){c(e)};return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,null),r.a.createElement(m.a,{position:"fixed",className:e.appBar},r.a.createElement(p.a,null,r.a.createElement(E.a,{variant:"h6",noWrap:!0},"Sriven Treasury"))),r.a.createElement(u.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(f.a,{component:"div"}),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"flatLookup",onClick:function(){return l(0)}},r.a.createElement(g.a,null,r.a.createElement(j.a,null)),r.a.createElement(h.a,{primary:"Flat Lookup"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"getAllTxns",onClick:function(){return l(1)}},r.a.createElement(g.a,null,r.a.createElement(O.a,null)),r.a.createElement(h.a,{primary:"All Transactions"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"addMaintenance",onClick:function(){return l(2)}},r.a.createElement(g.a,null,r.a.createElement(N.a,null)),r.a.createElement(h.a,{primary:"Add Maintenance"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"getTotal",onClick:function(){return l(3)}},r.a.createElement(g.a,null,r.a.createElement(w.a,null)),r.a.createElement(h.a,{primary:"Floor wise Total"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"pendingTxns",onClick:function(){return l(4)}},r.a.createElement(g.a,null,r.a.createElement(k.a,null)),r.a.createElement(h.a,{primary:"Pending Maintenance"}))),r.a.createElement(f.a,null),r.a.createElement(d.a,null,r.a.createElement(b.a,{button:!0,key:"getPastData",onClick:function(){return l(5)}},r.a.createElement(g.a,null,r.a.createElement(A.a,null)),r.a.createElement(h.a,{primary:"Past Maintenance"}))),r.a.createElement(f.a,null)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),0===n&&r.a.createElement(q,null),1===n&&r.a.createElement(me,null),2===n&&r.a.createElement(Ze,null),3===n&&r.a.createElement(ia,null),4===n&&r.a.createElement(la,null),5===n&&r.a.createElement(va,null)))};var ja=function(){return r.a.createElement(ya,null)},Ta=t(75),Na=t(744),xa=t(9),wa={employees:[],managers:[],currentEmployee:{},jobHistory:[]},Ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIST_EMPLOYEES":return Object(xa.a)(Object(xa.a)({},e),{},{employees:a.payload});case"LIST_MANAGERS":return Object(xa.a)(Object(xa.a)({},e),{},{managers:a.payload});case"SET_CURRENT_EMPLOYEE":return Object(xa.a)(Object(xa.a)({},e),{},{currentEmployee:a.payload});case"DELETE_EMPLOYEE":return Object(xa.a)(Object(xa.a)({},e),{},{employees:a.payload});case"JOB_HISTORY_SUCCESS":return Object(xa.a)(Object(xa.a)({},e),{},{jobHistory:a.payload});default:return e}},ka={jobs:[],selectedJobTitle:""},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LIST_JOBS":return Object(xa.a)(Object(xa.a)({},e),{},{jobs:a.payload});case"SELECTED_JOB":return Object(xa.a)(Object(xa.a)({},e),{},{selectedJobTitle:a.payload});default:return e}},Aa={firstName:"",lastName:"",email:"",phoneNumber:"",hireDate:"",jobId:"",salary:0,commissionPct:0,managerId:0,departmentId:0},Da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_EMPLOYEE_FIRST_NAME":return Object(xa.a)(Object(xa.a)({},e),{},{firstName:a.payload});case"SET_EMPLOYEE_LAST_NAME":return Object(xa.a)(Object(xa.a)({},e),{},{lastName:a.payload});case"SET_EMPLOYEE_EMAIL":return Object(xa.a)(Object(xa.a)({},e),{},{email:a.payload});case"SET_EMPLOYEE_PHONE":return Object(xa.a)(Object(xa.a)({},e),{},{phoneNumber:a.payload});case"SET_EMPLOYEE_HIRE_DATE":return Object(xa.a)(Object(xa.a)({},e),{},{hireDate:a.payload});case"SET_EMPLOYEE_SALARY":return Object(xa.a)(Object(xa.a)({},e),{},{salary:a.payload});case"SET_EMPLOYEE_JOB_ID":return Object(xa.a)(Object(xa.a)({},e),{},{jobId:a.payload});case"SET_EMPLOYEE_COMMISSION":return Object(xa.a)(Object(xa.a)({},e),{},{commissionPct:a.payload});case"SET_EMPLOYEE_MANAGER":return Object(xa.a)(Object(xa.a)({},e),{},{managerId:a.payload});case"SET_EMPLOYEE_DEPT":return Object(xa.a)(Object(xa.a)({},e),{},{departmentId:a.payload});default:return e}},_a={lookup:[],flatLookup:null,txnData:[],txnDate:null,txnAmount:0,paymentMode:"online",selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),txnResponse:null,pendingTxns:new Map,floorTotal:new Map,pastMaintenance:new Map},Ca={lookup:[],flatLookup:null,txnData:[],txnDate:null,txnAmount:0,paymentMode:"online",selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear(),txnResponse:null,pendingTxns:new Map,floorTotal:new Map,pastMaintenance:new Map},Ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FLAT_LOOKUP":return Object(xa.a)(Object(xa.a)({},e),{},{lookup:a.payload});case"INDIVIDUAL_FLAT_LOOKUP":return Object(xa.a)(Object(xa.a)({},e),{},{flatLookup:a.payload});case"SET_TXN_DATE":return Object(xa.a)(Object(xa.a)({},e),{},{txnDate:a.payload});case"SET_TXN_AMOUNT":return Object(xa.a)(Object(xa.a)({},e),{},{txnAmount:a.payload});case"SET_PAYMENT_MODE":return Object(xa.a)(Object(xa.a)({},e),{},{paymentMode:a.payload});case"SET_MONTH":return Object(xa.a)(Object(xa.a)({},e),{},{selectedMonth:a.payload});case"SET_YEAR":return Object(xa.a)(Object(xa.a)({},e),{},{selectedYear:a.payload});case"SAVE_TRANSACTION":return Object(xa.a)(Object(xa.a)({},e),{},{txnResponse:a.payload});case"GET_ALL_TRANSACTIONS":case"UPDATE_TRANSACTIONS":return Object(xa.a)(Object(xa.a)({},e),{},{txnData:a.payload});case"DELETE_TRANSACTIONS":return Object(xa.a)(Object(xa.a)({},e),{},{txnResponse:a.payload});case"PENDING_TRANSACTIONS":return Object(xa.a)(Object(xa.a)({},e),{},{pendingTxns:a.payload});case"GET_PAST_MAINTENANCE":return Object(xa.a)(Object(xa.a)({},e),{},{pastMaintenance:a.payload});case"FLOOR_TOTAL":return Object(xa.a)(Object(xa.a)({},e),{},{floorTotal:a.payload});case"RESET_TRANSACTION":return{state:Ca};default:return e}},La=Object(Ta.combineReducers)({form:Na.a,empReducer:Ma,jobIdReducer:Sa,newEmployeeReducer:Da,maintenanceReducer:Ra}),Pa=t(434),Ia=t(435),Fa=Object(Ta.createStore)(La,Object(Ia.composeWithDevTools)(Object(Ta.applyMiddleware)(Pa.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D.a,{store:Fa},r.a.createElement(ja,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[448,1,2]]]);
//# sourceMappingURL=main.ab93fbf9.chunk.js.map